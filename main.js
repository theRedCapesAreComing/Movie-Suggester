var movieArray = ["Short Term 12", "Gleason", "Boyhood", "The Raid Redemption", "Imperial Dreams", "The Edge of Seventeen", "Get Out", "10 Cloverfield Lane", "Anomalisa", "The White Helments", "John Wick: Chapter 2", "Zootopia", "The Godfather", "The Godfather: Part II", "Annie Hall", "Sicario", "Paterson", "Whiplash", "Kedi", "A Serious Man", "Okja", "Baby Driver", "Loving", "Do the Right Thing", "Life Itself", "The Big Sick", "Dunkirk", "De Palma", "Detroit", "The Dark Knight", "Shoot 'Em Up", "Charlottesville: Race and Terror", "Tickled", "Icarus", "Colossal", "The Central Park Five", "What Happened, Miss Simone?", "Hush", "Ghost World", "Long Shot", "Wind River", "Blade Runner 2049", "Goon", "What We Do In The Shadows", "The Punisher: Dirty Laundry (short)", "La La Land", "Mudbound", "Dog Day Afternoon", "Three Billboards Outside Ebbing, Missouri", "Lady Bird", "The Disaster Artist", "Breaking the Cycle", "Die Hard", "Split", "Creed", "Other People", "Manchester by the Sea", "The Times of Harvey Milk", "Blade Runner", "Thelma & Louise", "Man on Wire", "Zero (short)", "Ruby Sparks", "Aftermath (short)", "Captain Fantastic", "The Imitation Game", "5 to 7", "The Shining", "Tucker and Dale vs. Evil", "Florence Foster Jenkins", "An American Werewolf in London", "I Am Not Your Negro", "Sympathy for Lady Vengeance", "42", "Finders Keepers", "Manhattan", "The Nation Holds Its Breath (short)", "Game (short)", "S is for Stanley", "Exit Through The Gift Shop", "The Jihadis Next Door", "Chasing Coral", "Thor: Ragnorak", "Kiss Kiss Bang Bang", "The Royal Tenenbaums", "Good Time", "Star Wars: The Last Jedi", "Sing Street", "Logan", "Barton Fink", "Everybody Wants Some!!", "Beary Tales (short)", "Amelie", "Life Aquatic with Steve Zissou", "Goodfellas", "Shaun of the Dead", "The Deer Hunter", "Becoming Bond", "Oldboy", "Children of Men", "Reservoir Dogs", "Inglourious Basterds", "Baby Driver", "The Meyerowitz Stories", "Black Swan", "Cabin in the Woods", "Shaun of the Dead", "Children of Men", "The Thin Blue Line", "Whiskey Tango Foxtrot", "Eraserhead", "Kung Fury", "Inside Job", "Lo and Behold", "Finding Dory", "Rosewater", "Poverty, Inc.", "Passing (short)", "Sriracha (short)", "Legend", "Radio Days", "X-Men: Apocalypse", "The Young Offenders", "Tenacious D in the Pick of Destiny", "Accidental Courtesy", "The Most Hated Woman in America", "Tinker, Tailor, Soldier, Spy", "Fences", "Neighbors 2: Sorority Rising", "Mad as Hell", "Patton", "The Conversation", "Southside with You", "Girlfriend's Day", "Don't Think Twice", "Pretty in Pink", "Minimalism", "The Good, the Bad, and the Ugly", "Wonder Woman", "Slow West", "Morris From America", "Bend it like Beckham", "Race", "Hail, Ceaser!", "Popstar: Never Stop Never Stopping", "Moana", "GLOW", "Rogue One", "Star Trek Beyond", "The VVitch", "Crooklyn", "Brillo Box (3 cents off)", "The Tickle King", "Counterpunch", "Jackie", "Cop Watchers", "Fatastic Beasts", "Little Evil", "Obit.", "VHS Revolution", "Girl Asleep", "Motivation 2: The Chris Cole Story", "Team Foxcatcher", "The Children's March", "Ice Guardians", "Green is Gold", "Talladega Nights", "Gap-Toothed Women", "The Red Balloon (short)", "Free Fire", "30 for 30: Nature Boy", "Obey Giant", "The Doors: When You're Strange", "Foo Fighers: Back and Forth", "Atomic Blonde", "Jim & Andy", "Saving Capitalism", "Monster", "Slap Shot", "Batman & Bill", "The Prestige", "Citizen Ruth", "The Wackness", "The Incredible Jessica James", "Brick", "Idiocracy", "A.C.O.D.", "American Experience: Ruby Ridge", "Sneakerheadz", "A Fistful of Dollars", "While We're Young", "Pontypool", "Sympathy for Mr. Vengeance", "Eddie the Eagle", "The Monster", "Tour de Pharmacy", "Punch-Drunk Love", "Echoes (short)", "Operation Barn Owl (short)", "The Immortal Life of Henrietta Lacks", "Banking on Bitcoin", "Falling to Pieces (short)", "The Believer", "Christine", "She Makes Comics", "Bad Acid (short)", "Jerry Seinfeld: Comedian", "Kingsman: The Golden Circle", "El Camino Christmas", "Black Panthers", "The Fundamentals of Caring", "World of Tomorrow", "Bronson", "Frances Ha", "Menace II Society", "Fruitvale Station", "How to Survive a Breakup (short)", "Look Who's Back", "Best of Enemies", "The Maker (short)", "The Confirmation", "Mr. Hublot (short)", "The Jungle Book", "Gubagude Ko (short)", "Little Sister", "The Devil's Rejects", "The American President", "I Don't Feel At Home In This World Anymore", "This is Spinal Tap", "Big Trouble in Little China", "Amy", "Batman (1966)", "Chicago", "Ip Man", "Barbershop: The Next Cut", "The Founder", "Superbad", "Dirty Harry", "Paper Moon", "Chinatown", "All The President's Men", "The Panic in Needle Park", "The Hustler", "Mulholland Dr.", "Footloose", "Get Me Roger Stone", "Undecided: The Movie", "The Seven Five", "Tales from the Script", "The Iron Giant", "For a Few Dollars More", "The War Room", "Jackie Brown", "Repo Man", "Nobody Speak: Trials of the Free Press", "Enemy", "Cape Fear", "My Scientology Movie", "Best in Show", "Market Hours (short)", "Heathers", "Handsome Devil", "Hidden Figures", "Guardians of the Galaxy Vol. 2", "Burning Sands", "Hacksaw Ridge", "82 (short)", "Heroin( e )", "Resurface", "Klansville, USA", "The Barkley Marathons", "Tabloid", "Win it All", "Gimme The Loot", "Rope", "Battle of the Sexes", "Tallulah", "We Are What We Drink (short)", "I Love You, Man", "Tropic Thunder", "Blue Jay", "Little Men", "The Boys Are All Called Patrick (short)", "Hunt for the Wilderpeople", "42682", "Spider-Man: Homecoming", "Too Funny to Fail", "Men in Black", "Logan Lucky", "Ghostbusters (2016)", "The Lego Batman Movie", "Wilson", "A Christmas Story", "Hitchhiker's Guide to the Galaxy", "Chi-Raq", "Fruitcake (short)", "Batman: The Killing Joke", "Blazing Saddles", "Solo Con Tu Pareja", "The Secret Life of Pets", "Journey to the West", "Juliet and Romeo (short)", "His Name is Midnight (short)", "Myanmar: Bridges to Change (short)", "The Good Neighbor", "Five Easy Pieces", "Against All Odds: The Fight for a Black Middle Class", "A Most Violent Year", "Primary", "Mr. Nobody", "Suspiria", "Beyond Memories (short)", "Swimming in Air (short)", "The Witness from the Balcony of Room 306", "Watchmen", "War Dogs", "Buster's Mal Heart", "Yoga Hosers", "Havana Bikes (short)", "Honest Man", "The Zen of Bennet", "Meet the Trumps", "Goon: Last of the Enforcers", "Office Christmas Party", "Orange County", "Pottersville", "The House of Small Cubes (short)", "God's Pocket", "David Brent: Life on the Road", "The Brainwashing of My Dad", "Michael Jordan: Come Fly With Me (short)", "The Blackcoat's Daughter", "Storks", "A History of Violence", "Masterminds", "Mike and Dave Need Wedding Dates", "Daddy's Home", "Coming Home (short)", "Black Something (short)", "The Winning Season", "Chungking Express", "Deathgasm", "Run Zoom Run (short)", "The Godfather: Part III", "Lawrence of Arabia", "Despicable Me 3", "A Better Tomorrow (short)", "Captain Ron", "A Good American", "She's Gotta Have It", "Gaga: Five Foot Two", "One of Us", "Immigrant Prisons", "Joan Didion: The Center Will Not Hold", "Landline", "Justice League", "Bright", "A New Economy", "Carnival of Souls", "Emma (short)", "Hoffa", "Snow on tha Bluff", "Fear and Desire", "9", "The Room"];
console.log(movieArray);

// Create a request variable and assign a new XMLHttpRequest object to it.
var request = new XMLHttpRequest();

// Open a new connection, using the GET request on the URL endpoint
var movieNameArray = movieArray[54].split(" ");
var movie = movieNameArray.join("+");
console.log(movie);
var query = 'https://api.themoviedb.org/3/search/movie?api_key=fed95255d8f75e85fd3cf8860545b346&query=' + movie;
request.open('GET', query, true);

request.onload = function() {
	// Begin accessing JSON data here 
	var data = JSON.parse(this.response);
	// console.log(data);
	// console.log(data.results[0].backdrop_path);
	
	data.results.forEach(result => {
		console.log(result.title);
	});
	
	var app = document.getElementById('root');
	app.src = "https://image.tmdb.org/t/p/w1280" + data.results[0].backdrop_path;

}

// Send request
request.send();

function nextMovie() {
	movie_num = getRandom(365);
	console.log(movie_num);
	var movieName = movieArray[movie_num].split(" ");
	var movie = movieName.join("+");
	console.log(movie);
	var newQuery = 'https://api.themoviedb.org/3/search/movie?api_key=fed95255d8f75e85fd3cf8860545b346&query=' + movie;
	console.log(newQuery);
	request.open('GET', newQuery, true);
	
	request.onload = function() {
		var data = JSON.parse(this.response);
		
		data.results.forEach(result => {
			console.log(result.title);
		});
		
		var pic = document.getElementById('root');
		root.src = "https://image.tmdb.org/t/p/w1280" + data.results[0].backdrop_path;
		
	}
	
	request.send();
	
}

function getRandom(range) {
	return Math.floor((Math.random() * range) + 1);
}